# Гайд по написанию стилей

## Соглашения

- Используем БЭМ-нотацию
- Блок начинается с заглавной буквы: `.Checkbox`
- Многословный блок разделяется через camelCase: `.SimpleCheckbox`
- Элемент от блока отделяется двумя подчеркиваниями: `.Checkbox__in`
- Многословные элементы разделяются через kebab-case: `.Banner__before-title`
- Модификатор отделяется двумя дефисами: `.Input--plain`
- Многословные модификаторы разделяются через kebab-case или camelCase: `.Checkbox--sizeX-regular`

### Связность стилей

Если компонент состоит из других компонентов, то для их модификации используем БЭМ-миксин. Пример:

```tsx
// Button.tsx
<button vkuiclass="Button">
  <Text vkuiclass="Button__text">{children}</Text>
</button>
```

```css
/* Button.css */
.Button__text {
  margin: 4px 0;
}
```

Если в компонент прокидываются другие компоненты извне, то для их модификации используем обращение к блоку. Пример:

```tsx
// Cell.tsx
<div className="Cell">
  {before} {/* В before может быть <Icon /> или <Avatar /> */}
</div>
```

```css
/* Cell.css */
.Cell .Icon {
  margin-right: 10px;
}

.Cell .Avatar {
  margin-right: 8px;
}
```

## Проблемы

### Конфликт стилей блока и миксина

```css
/* Text.css */
.Text {
  margin: 0;
}
```

```css
/* Button.css */
.Button__text {
  margin: 4px 0;
}
```

Вес селекторов одинаковый, поэтому применится последний по порядку. Рассчитывать на порядок сложно, так как он может
меняться, если собирать стили в бандл вебпаком.

#### Решение

Избегать правил на блоке, которые могут быть в миксине

### Обращения к элементам другого блока

```css
/* Banner.css */
.Banner .Button__in {
  padding-top: 4px;
}
```

Мы завязываемся на реализацию другого компонента. Это плохо, так как реализация может меняться.

#### Решение

Не обращаться к элементам другого блока

## Куда мы движемся

- Предлагаем помимо `vkui.css` и `components.css` альтернативу, в которой стили компонента подключаются в `.js`, чтобы
  конечный пользователь грузил стили только используемых компонент
- Переезд на css-modules и отказ от БЭМ-нотации
- Отказ от обращений из одного блока к другому
- Хэширование классов
